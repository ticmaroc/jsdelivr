{"version":3,"sources":["component/sense.js"],"names":["global","definition","Emitter","matchMedia","ComponentSense","query","self","prototype","constructor","call","this","mql","storage","uuid","addListener","emit","matches","extend","provide"],"mappings":"CAkBC,SAASA,GACT,YAEA,SAASC,GAAWC,EAASC,GAG5B,QAASC,GAAeC,GACvB,GAAIC,GAAOJ,EAAQK,UAAUC,YAAYC,KAAKC,MAC7CC,EAAOR,EAAWE,EAQnB,OANAO,GAAQN,EAAKO,MAAQF,EAErBA,EAAIG,YAAY,WACfR,EAAKS,KAAKJ,EAAIK,WAAY,EAAO,QAAU,aAGrCV,EAZR,GAAIM,KAyBJ,OAVAR,GAAeG,WACdS,GAAIA,WACH,GAAIL,GAAMC,EAAQF,KAAKG,KAEvB,OAAGF,GACKA,EAAIK,QADZ,SAMKd,EAAQe,OAAOb,GAGvBc,SAAU,aAAclB,EAAOG,YAAc,iCAAmCF,IAC/ES","file":"component/sense.js","sourcesContent":["/**\n * Qoopido component/sense\n *\n * Provides facilities to register to media queries matching/unmatching\n *\n * Copyright (c) 2015 Dirk Lueth\n *\n * Dual licensed under the MIT and GPL licenses.\n *  - http://www.opensource.org/licenses/mit-license.php\n *  - http://www.gnu.org/copyleft/gpl.html\n *\n * @author Dirk Lueth <info@qoopido.com>\n *\n * @require ../emitter\n *\n * @polyfill ../polyfill/window/matchmedia\n */\n\n(function(global) {\n\t'use strict';\n\n\tfunction definition(Emitter, matchMedia) {\n\t\tvar storage = {};\n\n\t\tfunction ComponentSense(query) {\n\t\t\tvar self = Emitter.prototype.constructor.call(this),\n\t\t\t\tmql  = matchMedia(query);\n\n\t\t\tstorage[self.uuid] = mql;\n\n\t\t\tmql.addListener(function() {\n\t\t\t\tself.emit(mql.matches === true ? 'match' : 'unmatch');\n\t\t\t});\n\n\t\t\treturn self;\n\t\t}\n\n\t\tComponentSense.prototype = {\n\t\t\tget matches() {\n\t\t\t\tvar mql = storage[this.uuid];\n\n\t\t\t\tif(mql) {\n\t\t\t\t\treturn mql.matches;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\treturn Emitter.extend(ComponentSense);\n\t}\n\n\tprovide([ '../emitter', global.matchMedia || '../polyfill/window/matchmedia' ], definition);\n}(this));"],"sourceRoot":"/source/"}