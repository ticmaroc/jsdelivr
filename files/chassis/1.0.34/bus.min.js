/**
  * v1.0.34 generated on: Tue Apr 19 2016 17:20:23 GMT-0500 (CDT)
  * Copyright (c) 2014-2016, Ecor Ventures LLC. All Rights Reserved. See LICENSE (BSD).
  */
window.NGN.BUS=function(){var n=[],e=[],t=[],i={},r=function(n,e){var t=n.filter(function(n){return e.toLowerCase()===n[0].toLowerCase()});return 0===t.length?null:(t.length>1&&console.warn("NGN Event Bus: "+t[0][0]+" exists more than once."),t[0].filter(function(n,e){return 0!==e}))},u=function(e){return r.apply(this,[n,e])},s=function(n){return r.apply(this,[e,n])},c=function(n){return r.apply(this,[t,n])},o=function(n,e){return null===n||void 0===n||null===e||void 0===e};return Object.defineProperties(i,{subscribe:NGN.define(!0,!1,!1,function(e,t){if(o(e,t))throw new Error("subscribe() requires a topic and listener function as arguments.");var i=u(e);null!==i&&i.unshift(e),null===i&&(i=[e])&&n.push(i);var r=i.push(t);return n[n.map(function(n){return n[0]}).indexOf(e)]=i,{unsubscribe:function(){i=i.splice(r,1),0===i.length?n.splice(n.map(function(n){return n[0]}).indexOf(e),1):n[n.map(function(n){return n[0]}).indexOf(e)]=i}}}),subscribeOnce:NGN.define(!0,!1,!1,function(n,t){if(o(n,t))throw new Error("subscribeOnce() requires a topic and listener function as arguments.");var i=s(n);null!==i&&i.unshift(n),null===i&&(i=[n])&&e.push(i),i.push(t),e[e.map(function(n){return n[0]}).indexOf(n)]=i}),on:NGN.define(!0,!1,!1,function(){return this.subscribe.apply(this,arguments)}),once:NGN.define(!0,!1,!1,function(){return this.subscribeOnce.apply(this,arguments)}),bind:NGN.define(!0,!1,!0,function(n,e,i){e="string"==typeof e?[e]:e;var r=c(n);null!==r&&r.unshift(n),null===r&&(r=[n])&&t.push(r);var u=this,s=function(n){e.forEach(function(e){u.publish(e,void 0!==n?n:{})})},o=r.push(s);return t[t.map(function(n){return n[0]}).indexOf(n)]=r,{remove:function(){r=r.splice(o,1),0===r.length?t.splice(t.map(function(n){return n[0]}).indexOf(n),1):t[t.map(function(n){return n[0]}).indexOf(n)]=r}}}),execWildcardListeners:NGN.define(!1,!1,!1,function(n,e,t,i){var r={eventName:n};i=void 0===i?!0:i,t=t.filter(function(e){if(e[0].indexOf("*")>=0){var t=new RegExp(e[0].replace("*",".*","gi"));return t.test(n)}return!1}),i&&(t=t.map(function(n){return n.slice(1,n.length)})),t.forEach(function(n){n.forEach(function(n){n.call(r,void 0!==e?e:{})})})}),execListeners:NGN.define(!1,!1,!1,function(n,e,t){var i={eventName:n};null!==t&&t.forEach(function(n){n.call(i,void 0!==e?e:{})})}),publish:NGN.define(!0,!1,!1,function(t,i){var r=u(t),o=s(t),f=c(t);this.execListeners(t,i,r),null!==o&&(e=e.filter(function(n){return n[0].toLowerCase()!==t.toLowerCase()}),this.execListeners(t,i,o)),this.execListeners(t,i,f),this.execWildcardListeners(t,i,n),this.execWildcardListeners(t,i,e),e=e.filter(function(n){if(n[0].indexOf("*")>=0){var e=new RegExp(n[0].replace("*",".*","gi"));return!e.test(t)}return!0}),this.execWildcardListeners(t,i,e,!1)}),clear:NGN.define(!1,!1,!1,function(i){var r=function(n){return n.filter(function(n){return n[0].toLowerCase()!==i.toLowerCase()})};n=r(n),e=r(e),t=r(t)}),emit:NGN.define(!0,!1,!1,function(){return this.publish.apply(this,arguments)}),subscribers:NGN._get(function(){var t={};return n.forEach(function(n){t[n[0]]={persist:n.length-1,adhoc:0}}),e.forEach(function(n){t[n[0]]=t[n[0]]||{persist:0},t[n[0]].adhoc=n.length-1}),t}),persistentSubscribers:NGN._get(function(){return n.map(function(n){return n[0]}).sort()}),adhocSubscribers:NGN._get(function(){return e.map(function(n){return n[0]}).sort()}),autoSubscribers:NGN._get(function(){return t.map(function(n){return n[0]}).sort()}),pool:NGN.define(!0,!1,!1,function(n,e,t){"string"!=typeof n&&(e=n,n="");var i=this,r={};Object.keys(e).forEach(function(t){"function"==typeof e[t]?r[t]=i.subscribe((n.trim()||"")+t,e[t]):console.warn((n.trim()||"")+t+" could not be pooled in the event bus because it's value is not a function.")}),t&&t(r)}),attach:NGN.define(!0,!1,!1,function(n){var e=this;return function(){var t=NGN._slice(arguments);t.unshift(n),e.publish.apply(e,t)}})}),i}();